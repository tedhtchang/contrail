# =================================================================
# Licensed Materials - Property of IBM
#
# (c) Copyright IBM Corp. 2014, 2015 All Rights Reserved
#
# US Government Users Restricted Rights - Use, duplication or
# disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
# =================================================================
name: Node types
description: This contains the lists of roles by node types, and other various node type information.
version: 1.1
date: 03-20-2015


# List the 'top level' required roles that define each compute node type. Duplicate node_types or roles are not allowed.
roles-by-compute-node-type:
  - baremetal: &baremetal
      [ibm-os-compute-bare-metal]

  - kvm: &kvm
      [ibm-os-compute-node-kvm, contrail-icm-compute]

  - powerkvm: &powerkvm
      [ibm-os-compute-node-powerkvm]

  - powervc: &powervc
      [ibm-os-powervc-driver-node]

  - zvm: &zvm
      [ibm-os-zvm-driver-node]

  - vmware: &vmware
      [ibm-os-vmware-driver-node, ibm-os-vmware-compute-node]


# List the 'top level' required roles that define each node type. It is important to list the node types in the proper
# order. This is the order in which they will be started by the 'os manage services' command. For example, we want to
# start all compute nodes last, and we want to start block-storage nodes after the controller nodes have started.
# Duplicate node_types or roles are not allowed.
roles-by-ordered-node-type:
  - all-in-one-bare-metal:
      [ibm-os-allinone-bare-metal]

  - all-in-one:
      [ibm-os-allinone-kvm]

  - database:
      [ibm-os-database-server-node]

  - ha-controller:
      [ibm-os-ha-controller-node,contrail-icm-os-controller]

  - controller:
      [ibm-os-single-controller-node, ibm-os-single-controller-powervc-driver,
       ibm-os-single-controller-vmware-driver, ibm-os-vmware-controller-node,
       ibm-os-single-controller-distributed-database-node, contrail-icm-ct-controller]

  - block-storage:
      [ibm-os-block-storage-node]

  - compute:
      [*baremetal, *kvm, *powerkvm, *powervc, *zvm, *vmware]

  - sce:
      [ibm-sce-node]


# List the controller node types
controller-node-types: [all-in-one-bare-metal, all-in-one, ha-controller, controller]


# List the HA controller node types
ha-controller-node-types: [ha-controller]


# List the node types that have messaging services such as qpid or rabbitmq
mq-node-types: [all-in-one-bare-metal, all-in-one, ha-controller, controller]


# List the node types that have database services only (no other controller type services)
db-only-node-types: [database]


# List node types which can be removed from the cluster
removable-node-types: [kvm, powerkvm]
